<!--
Copyright (c) 2014 Long Xiang (seanlong@outlook.com). All rights reserved.
Unauthorized copying of this file, via any medium is strictly prohibited
Proprietary and confidential
-->

<link rel="import" href="./bower_components/core-scaffold/core-scaffold.html">
<link rel="import" href="./bower_components/core-toolbar/core-toolbar.html">
<link rel="import" href="./bower_components/core-menu/core-menu.html">
<link rel="import" href="./bower_components/core-icon/core-icon.html">
<link rel="import" href="./bower_components/core-item/core-item.html">
<link rel="import" href="./bower_components/paper-item/paper-item.html">
<link rel="import" href="./bower_components/core-animated-pages/core-animated-pages.html">
<link rel="import" href="./bower_components/core-animated-pages/transitions/slide-from-right.html">
<link rel="import" href="./bower_components/paper-radio-group/paper-radio-group.html">
<link rel="import" href="./bower_components/paper-radio-button/paper-radio-button.html">
<link rel="import" href="./bower_components/paper-input/paper-input.html">
<link rel="import" href="./bower_components/paper-button/paper-button.html">
<link rel="import" href="./bower_components/paper-input/paper-input-decorator.html">

<link rel="import" href="./oil-tanks-info.html">
<link rel="import" href="./account.html">

<!--
TODO(xiang): make a base element shared by user-page & admin-page
-->
<polymer-element name="admin-page">
    <template>
        <style>
        core-scaffold /deep/ core-toolbar {
            background-color: #3f51b5;
            color: #fff;
        }
        core-menu {
            margin: 10px 0 0 0;
        }
        core-icon {
            margin-top: 1px;
            margin-right: 5px;
        }
        core-menu > paper-item.core-selected {
            background: #c5cae9;
        }
        #logout > div {
            display: inline;
            margin: 6px;
        }
        core-toolbar > span {
            font-size: 18px;
            padding-left: 40px;
        }
        paper-item a {
            text-decoration: none;
            color: currentcolor;
            margin-left: 5px;
        }
        #about {
            font-size: 14px;
            position: absolute;
            bottom: 10px;
            right: 0px;
            left: 0px;
            width: 120px;
            height: 40px;
        }
        #about_dialog {
            width: 400px;
        }
        </style>
        <core-scaffold>
            <nav>
                <core-toolbar><span>选项</span>
                </core-toolbar>
                <core-menu valueattr="type" selected="{{route}}">
                    <template repeat="{{s in sections}}">
                        <paper-item type="{{s.type}}" noink>
                            <core-icon icon="label{{route != s.type ? '-outline' : ''}}"></core-icon>
                            <div>{{s.name}}</div>
                        </paper-item>
                    </template>
                </core-menu>
                <account-info data={{account_info}}></account-info>
            </nav>

            <core-toolbar tool flex>
                <div align="center" flex>管理员控制台</div>
            </core-toolbar>

            <div layout>
                <!--
                FIXME(xiang): can we use template to create different custom elements?
                -->
                <core-animated-pages id="pages" valueattr="type" selected="{{route}}">
                    <section type="oil-tanks-info">
                        <oil-tanks-info></oil-tanks-info>
                    </section>
                    <section type="admin-log">
                        <admin-log></admin-log>
                    </section>
                    <section type="admin-users">
                        <admin-users></admin-users>
                    </section>
                    <section type="account-setting">
                        <account-setting data="{{account_info}}"></account-setting>
                    </section>
                    <section type="software-info">
                        <software-info></software-info>
                    </section>
                </core-animated-pages>
            </div>
        </core-scaffold>
    </template>
    <script>
    Polymer({
        ready: function() {
            // FIXME(xiang): will return by server.
            this.account_info = {
                name: '李四',
                group: '工程1组',
                reg_time: '2014年12月10日',
                login: '2014年12月20日12点',
                last_login: '2014年12月18日8点',
            };
            this.route = "oil-tanks-info";
            this.sections = [{
                name: '概况汇总',
                type: 'oil-tanks-info'
            }, {
                name: '用户记录',
                type: 'admin-log'
            }, {
                name: '用户管理',
                type: 'admin-users'
            }, {
                name: '帐号设置',
                type: 'account-setting'
            }, {
                name: '软件信息',
                type: 'software-info'
            }];
        },
        onClick: function() {
            this.fire("logout");
        },
        onAboutClick: function() {
            this.$.about_dialog.toggle();
        }
    });
    </script>
</polymer-element>
