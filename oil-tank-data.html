<!--
Copyright (c) 2014 Long Xiang (seanlong@outlook.com). All rights reserved.
Unauthorized copying of this file, via any medium is strictly prohibited
Proprietary and confidential
-->

<polymer-element name="oil-tank-data" attributes="data">
    <template>
    </template>
    <script>
    var oil_types = [
        '90号汽油',
        '93号汽油',
        '10号柴油',
        '航天汽油'
    ];
    var mock_data = [
        [0, 2.3, 8.5, 2.3, 39.9, 423.5, 810],
        [1, 0.4, 3.7, 0.4, 22.8, 178.6, 812],
        [0, 0.7, 1.8, 0.7, 19.2, 69.5, 822],
        [3, 1.5, 6.9, 1.5, 43.3, 330.5, 812],
        [2, 1.2, 4.5, 1.2, 24.9, 270.5, 811],
    ];
    Polymer({
        attached: function() {
            //TODO(xiang): fetch current tank data from server.
            this.data = [];
            for (var idx = 0; idx < mock_data.length; idx++) {
                var tank_info = {};
                tank_info.tank_id = idx + 1;
                tank_info.oil_waning_low_level = 1;
                tank_info.oil_waning_high_level = 8;
                tank_info.water_warning_level = 2;
                tank_info.temperature_low_warning = -10;
                tank_info.temperature_high_warning = 50;
                tank_info.tank_height = 10;
                tank_info.tank_radius = 10;
                var i = 0;
                tank_info.oil_type = oil_types[mock_data[idx][i++]];
                tank_info.oil_level_low = mock_data[idx][i++];
                tank_info.oil_level_high = mock_data[idx][i++];
                tank_info.water_level = mock_data[idx][i++];
                tank_info.temperature = mock_data[idx][i++];
                tank_info.oil_volume = mock_data[idx][i++];
                tank_info.oil_density = mock_data[idx][i++];
                tank_info.oil_weight = Math.floor(mock_data[idx][5] * mock_data[idx][6]);
                this.data.push(tank_info);
            }
        }
    });
    </script>
</polymer-element>
